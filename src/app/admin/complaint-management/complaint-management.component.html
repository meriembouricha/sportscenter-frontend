<div class="complaints-container">
  <div class="header">
    <h2>Gestion des Réclamations</h2>
  </div>

  <div class="table-section">
    <table class="table complaint-table">
      <thead>
        <tr>
          <th>Utilisateur</th>
          <th>Objet</th>
          <th>Description</th>
          <th>Statut</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let complaint of complaints">
          <td>{{ complaint.user }}</td>
          <td>{{ complaint.titleComplaint }}</td>
          <td>{{ complaint.descComplaint }}</td>
          <td>
            <span class="badge" [ngClass]="complaint.status ? 'badge-treated' : 'badge-untreated'">
              {{ complaint.status ? 'Traitée' : 'Non traitée' }}
            </span>
          </td>
          <td>
            <button class="btn btn-success btn-sm me-2"
              [disabled]="complaint.status"
              (click)="redirectToResponseComponent(complaint.idComplaint)">
              Répondre
            </button>
            <button class="btn btn-danger btn-sm" (click)="deleteComplaint(complaint.idComplaint)">
              Supprimer
            </button>
          </td>
        </tr>
        <tr *ngIf="complaints.length === 0">
          <td colspan="5" class="text-center text-muted">Aucune réclamation</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
